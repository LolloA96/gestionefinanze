<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestione Soldi</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <!-- Usa il nome corretto del file CSS -->
  <link rel="stylesheet" href="./style.css" />
</head>

<body class="app-bg">
  <div id="router-guard" aria-hidden="true"></div>

  <div id="snackbar" class="snackbar hidden" role="status" aria-live="polite">
    <span id="snackbar-text">Elemento aggiunto</span>
    <button id="snackbar-undo" type="button">Annulla</button>
  </div>

  <!-- Signin -->
  <section id="view-signin" class="view view-centered" data-view>
    <div class="card auth-card">
      <h1 class="card-title">Iscriviti Ora</h1>
      <form id="form-signin" autocomplete="on">
        <label class="field"><span>Nome</span><input id="su-name" type="text" required /></label>
        <label class="field"><span>Email</span><input id="su-email" type="email" required /></label>
        <label class="field"><span>Password</span><input id="su-password" type="password" minlength="6" required /></label>
        <button class="btn btn-primary btn-block" type="submit">Iscriviti</button>
      </form>
      <button id="go-login-from-signin" class="btn btn-ghost btn-block">Hai già un account?</button>
    </div>
  </section>

  <!-- Login -->
  <section id="view-login" class="view view-centered hidden" data-view>
    <div class="card auth-card">
      <h1 class="card-title">Accedi</h1>
      <form id="form-login" autocomplete="on">
        <label class="field"><span>Email</span><input id="li-email" type="email" required /></label>
        <label class="field"><span>Password</span><input id="li-password" type="password" required /></label>
        <button class="btn btn-primary btn-block" type="submit">Accedi</button>
      </form>
      <button id="go-signin-from-login" class="btn btn-ghost btn-block">Crea nuovo account</button>
    </div>
  </section>

  <!-- App -->
  <section id="view-app" class="view hidden" data-view>
    <header class="topbar">
      <div class="topbar-left">
        <span class="greeting">Benvenuto/a,</span>
        <span id="username-top" class="username">Utente</span>
      </div>
      <button id="open-docs" class="icon-btn" aria-label="Documenti"><span class="icon icon-docs"></span></button>
    </header>

    <!-- Home -->
    <main id="home" class="page page-active">
      <!-- Riepilogo: Entrate + Risparmi -->
      <section class="home-hero">
        <div class="grid-two">
          <article class="summary-card">
            <div class="summary-card-inner">
              <div class="summary-title">Entrate</div>
              <div id="tot-entrate" class="summary-value">0,00€</div>
            </div>
          </article>
          <article class="summary-card">
            <div class="summary-card-inner">
              <div class="summary-title">Risparmi</div>
              <div id="tot-risparmi" class="summary-value">0,00€</div>
            </div>
          </article>
        </div>
      </section>

      <!-- Obiettivi -->
      <section class="goals-card">
        <h3 class="list-header">Obiettivo da Raggiungere</h3>
        <button id="open-goals" class="btn btn-secondary btn-block">
          <span class="icon icon-plus"></span> Aggiungi Obiettivo
        </button>
      </section>

      <!-- Spese -->
      <section class="expenses-card">
        <h3 class="list-header">Le spese del mese</h3>
        <ul id="spese-mese" class="list"></ul>
      </section>
    </main>

    <!-- Profilo -->
    <section id="profile" class="page">
      <div class="profile-header">
        <div class="avatar">L</div>
        <div class="profile-info">
          <h2 id="username-profile">Nome Cognome</h2>
          <div class="profile-row">
            <span class="pill">Saldo</span>
            <span id="saldo-profile" class="pill pill-strong">2.000,00€</span>
          </div>
        </div>
        <button id="open-edit-profile" class="icon-btn" aria-label="Modifica profilo"><span class="icon icon-edit"></span></button>
      </div>

      <div class="list-group">
        <div class="list-card">
          <div class="list-header">Le Tue Spese</div>
          <ul id="spese-profilo" class="list"></ul>
        </div>
        <div class="list-card">
          <div class="list-header">I Tuoi Risparmi</div>
          <ul id="risparmi-profilo" class="list"></ul>
        </div>
      </div>
    </section>

    <!-- Bottom nav -->
    <nav class="bottom-nav">
      <button class="tab-btn active" data-tab="home" aria-label="Home"><span class="icon icon-home"></span></button>
      <button id="open-add" class="fab" aria-label="Aggiungi"><span class="icon icon-plus"></span></button>
      <button class="tab-btn" data-tab="profile" aria-label="Profilo"><span class="icon icon-user"></span></button>
    </nav>
  </section>

<!-- Chooser aperto dal bottone + -->
<dialog id="ov-entrata" class="overlay-card">
  <div class="overlay-body">
    <header class="overlay-header">
      <h3>Aggiungi</h3>
      <button class="icon-btn close" aria-label="Chiudi">×</button>
    </header>
    <div class="chooser-grid">
    </div>
  </div>
</dialog>

<!-- Overlay: Aggiungi Entrata -->
<dialog id="ov-entrata" class="overlay-card">
  <form method="dialog" class="overlay-body" id="form-entrata">
    <header class="overlay-header">
      <h3>Entrate</h3>
      <button class="icon-btn close" value="cancel" aria-label="Chiudi">×</button>
    </header>
    <label class="field">
      <span>Nome</span>
      <input id="in-entrata-nome" type="text" required />
    </label>
    <label class="field">
      <span>Valore</span>
      <input id="in-entrata-valore" type="number" step="0.01" min="0" required />
    </label>
    <button class="btn btn-primary btn-block" type="submit">Aggiungi entrata</button>
  </form>
</dialog>

<!-- Overlay: Aggiungi Uscita -->
<dialog id="ov-uscita" class="overlay-card">
  <form method="dialog" class="overlay-body" id="form-uscita">
    <header class="overlay-header">
      <h3>Uscite</h3>
      <button class="icon-btn close" value="cancel" aria-label="Chiudi">×</button>
    </header>
    <label class="field">
      <span>Nome</span>
      <input id="in-uscita-nome" type="text" required />
    </label>
    <label class="field">
      <span>Valore</span>
      <input id="in-uscita-valore" type="number" step="0.01" required />
    </label>
    <button class="btn btn-primary btn-block" type="submit">Aggiungi uscita</button>
  </form>
</dialog>

  <script type="module" src="./app.js"></script>
</body>
</html>
